import{d as ee,c as te,m as ne,r as C,p as ae,o as ie,e as oe,w as re,n as K,f as se}from"./main.GPEE7yV1.js";import{g as O}from"./event-bus.masbs19c.js";/* empty css                       */import{_ as le}from"./_plugin-vue_export-helper.DlAUqK2U.js";const q=["AWS","Azure","GCP","Firebase","Netlify","Vercel","JavaScript","TypeScript","Python","Rust","Go","Java","C#","PHP","Ruby","React","Vue","Angular","Svelte","Solid","HTML","CSS","Tailwind","Node.js","Django","Flask","Express","FastAPI","Spring","Laravel","React Native","Flutter","Swift","Kotlin","Webpack","Vite","Rollup","ESBuild","Bun","npm","yarn","pnpm","Next.js","Nuxt","Astro","Remix","SvelteKit","MongoDB","PostgreSQL","MySQL","SQLite","Redis","DynamoDB","Docker","Kubernetes","Git","GitHub","GitLab","Bitbucket","CI/CD","VS Code","Neovim","Sublime","IntelliJ","WebStorm","Jest","Cypress","Playwright","Vitest","Testing Library","API","REST","GraphQL","WebSockets","PWA","SSR","SSG","CSR"],l={opacity:.3,speedMultiplier:.8,densityMultiplier:.4,colorIntensity:.9,font:{family:"Arial, sans-serif",baseSize:14,weight:"normal"}},G=20,de=ee({__name:"DynamicBackground",setup(U,{expose:W}){W();const u=C(null);let n=null,f=0,r=0,d=0;const M=C("helios"),g=C("light"),Z=ae(()=>l.opacity),s=[],m=C(!0),h=C(!1);function S(){u.value&&(r=window.innerWidth,d=window.innerHeight,u.value.width=r,u.value.height=d,n=u.value.getContext("2d"),s.length=0,A(M.value))}function A(t){s.length=0;const a=Math.min(Math.floor(r/100*l.densityMultiplier),G);switch(t){case"helios":j(a);break;case"apollo":T(a);break;case"eclipse":V(a);break;case"selene":N(a);break;default:T(a)}}function P(t){return Math.floor(r/t*l.densityMultiplier)}function y(){return q[Math.floor(Math.random()*q.length)]}function k(t){const a=t*l.font.baseSize/14;return`${l.font.weight} ${a}px ${l.font.family}`}function j(t){for(let a=0;a<t;a++){const o=y();s.push({x:Math.random()*r,y:Math.random()*d,size:Math.random()*12+8,text:o,speed:(Math.random()*1+.5)*l.speedMultiplier,wind:Math.random()*.5-.25,wobble:Math.random()*.5,wobbleSpeed:Math.random()*.02,angle:0})}}function T(t){for(let a=0;a<t;a++){const o=y();s.push({x:Math.random()*r,y:Math.random()*d-d,size:Math.random()*14+10,text:o,speed:(Math.random()*3+2)*l.speedMultiplier,opacity:Math.random()*.7+.3})}}function V(t){for(let a=0;a<t;a++){const o=y();s.push({x:Math.random()*r,y:Math.random()*d,size:Math.random()*12+10,text:o,speedX:(Math.random()*1-.5)*l.speedMultiplier,speedY:(Math.random()*.5-.25)*l.speedMultiplier,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()*.02-.01)*l.speedMultiplier,oscillation:Math.random()*.1,oscillationSpeed:Math.random()*.05*l.speedMultiplier})}}function N(t){for(let o=0;o<t;o++)L();const a=Math.min(Math.floor(t*.2),20);for(let o=0;o<a;o++)s.push({type:"star",x:Math.random()*r,y:Math.random()*d,size:Math.random()*1.5+.5,opacity:Math.random()*.5+.3,twinkleSpeed:Math.random()*.03*l.speedMultiplier,twinkleTime:Math.random()*Math.PI*2})}function L(){if(s.length>=G)return;const t=y();s.push({type:"meteor",x:Math.random()*r*1.5-r*.25,y:-50,size:Math.random()*18+14,text:t,speedX:(Math.random()*3+2)*l.speedMultiplier,speedY:(Math.random()*3+5)*l.speedMultiplier,trail:[],trailLength:Math.floor(Math.random()*10)+15,opacity:1})}function z(){h.value||(h.value=!0,E())}function _(){h.value&&(f&&(cancelAnimationFrame(f),f=0),h.value=!1)}function E(){if(!n||!u.value||!m.value){h.value=!1;return}switch(n.clearRect(0,0,r,d),M.value){case"helios":X();break;case"apollo":R();break;case"eclipse":H();break;case"selene":J();break;default:R()}f=requestAnimationFrame(E)}function x(t){if(!t.startsWith("rgba("))return t;const a=t.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);if(!a)return t;const o=parseInt(a[1]),i=parseInt(a[2]),e=parseInt(a[3]),w=parseFloat(a[4]),c=Math.max(o,i,e),p=l.colorIntensity,I=o+(o===c?(255-o)*(p-1)*.5:0),F=i+(i===c?(255-i)*(p-1)*.5:0),$=e+(e===c?(255-e)*(p-1)*.5:0);return`rgba(${Math.min(255,I)}, ${Math.min(255,F)}, ${Math.min(255,$)}, ${w})`}function v(t){const a=getComputedStyle(document.documentElement).getPropertyValue("--primary-500").trim(),o=a.startsWith("#")?a.slice(1):a,i=parseInt(o.slice(0,2),16),e=parseInt(o.slice(2,4),16),w=parseInt(o.slice(4,6),16);return`rgba(${i}, ${e}, ${w}, ${t})`}function X(){if(!n)return;n.textAlign="center",n.textBaseline="middle";const t=g.value==="dark",a=v(t?.7:.5),o=x(a);for(let i=0;i<s.length;i++){const e=s[i];e.angle+=e.wobbleSpeed,e.x+=Math.sin(e.angle)*e.wobble,e.x+=e.wind,e.y+=e.speed,e.y>d+e.size&&(e.y=-e.size,e.x=Math.random()*r),e.x>r+e.size&&(e.x=-e.size),e.x<-e.size&&(e.x=r+e.size),n.font=k(e.size),n.fillStyle=o,n.fillText(e.text,e.x,e.y)}if(Math.random()<.01&&s.length<P(15)){const i=y();s.push({x:Math.random()*r,y:-20,size:Math.random()*12+8,text:i,speed:(Math.random()*1+.5)*l.speedMultiplier,wind:Math.random()*.5-.25,wobble:Math.random()*.5,wobbleSpeed:Math.random()*.02,angle:0})}}function R(){if(!n)return;n.textAlign="center",n.textBaseline="middle";const t=g.value==="dark",a=v(t?.7:.5);for(let o=0;o<s.length;o++){const i=s[o];i.y+=i.speed,i.y>d+i.size&&(i.y=-i.size,i.x=Math.random()*r,i.opacity=Math.random()*.7+.3),n.font=k(i.size);const e=x(a);n.fillStyle=e,n.fillText(i.text,i.x,i.y)}if(Math.random()<.05&&s.length<P(20)){const o=y();s.push({x:Math.random()*r,y:-20,size:Math.random()*14+10,text:o,speed:(Math.random()*3+2)*l.speedMultiplier,opacity:Math.random()*.7+.3})}}function H(){if(!n)return;const t=g.value==="dark",a=v(t?.6:.4),o=x(a);for(let i=0;i<s.length;i++){const e=s[i];e.x+=Math.sin(e.oscillationSpeed*Date.now()*.001)*e.oscillation+e.speedX,e.y+=e.speedY,e.rotation+=e.rotationSpeed,e.y>d+e.size&&(e.y=-e.size),e.y<-e.size&&(e.y=d+e.size),e.x>r+e.size&&(e.x=-e.size),e.x<-e.size&&(e.x=r+e.size),n&&(n.save(),n.translate(e.x,e.y),n.rotate(e.rotation),n.font=k(e.size),n.fillStyle=o,n.textAlign="center",n.textBaseline="middle",n.fillText(e.text,0,0),n.restore())}}function J(){if(!n)return;const t=g.value==="dark",a=v(t?.7:.5),o=v(t?.4:.3);for(let i=0;i<s.length;i++){const e=s[i];if(e.type==="star"){e.twinkleTime+=e.twinkleSpeed;const w=(Math.sin(e.twinkleTime)+1)/2,c=e.opacity*(.5+w*.5),p=x(o+c+")");n.fillStyle=p,n.beginPath(),n.arc(e.x,e.y,e.size,0,Math.PI*2),n.fill()}else if(e.type==="meteor"){if(e.x+=e.speedX,e.y+=e.speedY,e.trail.push({x:e.x,y:e.y}),e.trail.length>e.trailLength&&e.trail.shift(),e.trail.length>1)for(let c=0;c<e.trail.length-1;c++){const p=e.trail[c],I=c/e.trail.length,F=I*e.opacity*.5,$=x(a+F+")");n.fillStyle=$,n.beginPath(),n.arc(p.x,p.y,e.size*.3*I,0,Math.PI*2),n.fill()}n.font=k(e.size);const w=x(a+e.opacity+")");n.fillStyle=w,n.textAlign="center",n.textBaseline="middle",n.fillText(e.text,e.x,e.y),(e.y>d+100||e.x<-100||e.x>r+100)&&(s.splice(i,1),L(),i--)}}Math.random()<.01&&L()}function B(){S()}function Q(){A(M.value)}function D(){const t=m.value;m.value=document.visibilityState==="visible",m.value&&!t?(A(M.value),z()):!m.value&&t&&_()}function b(){u.value&&m.value&&!h.value&&K(()=>{console.log("Restarting background animation after navigation"),S(),z()})}ie(()=>{S(),window.addEventListener("resize",B),document.addEventListener("visibilitychange",D),window.addEventListener("popstate",b),typeof window<"u"&&(document.addEventListener("astro:page-load",b),document.addEventListener("astro:after-swap",b)),z();const t=O();t.on("theme-changed",a=>{M.value=a,Q()}),t.on("mode-changed",a=>{g.value=a}),M.value=document.documentElement.getAttribute("data-theme")||"helios",g.value=document.documentElement.getAttribute("data-mode")||"light"}),oe(()=>{window.removeEventListener("resize",B),document.removeEventListener("visibilitychange",D),window.removeEventListener("popstate",b),typeof window<"u"&&(document.removeEventListener("astro:page-load",b),document.removeEventListener("astro:after-swap",b));const t=O();t.off("theme-changed",()=>{}),t.off("mode-changed",()=>{}),_()}),re(u,t=>{t&&m.value&&!h.value&&K(()=>{console.log("Canvas ref changed, ensuring animation is running"),S(),z()})});const Y={canvas:u,get ctx(){return n},set ctx(t){n=t},get animationFrameId(){return f},set animationFrameId(t){f=t},get width(){return r},set width(t){r=t},get height(){return d},set height(t){d=t},currentTheme:M,currentMode:g,opacity:Z,MAX_PARTICLES:G,particles:s,isPageFocused:m,isAnimationRunning:h,initCanvas:S,initParticlesForTheme:A,getParticleCount:P,getRandomTechTerm:y,getFontString:k,initSnowflakes:j,initRaindrops:T,initLeaves:V,initMeteors:N,spawnMeteor:L,startAnimation:z,stopAnimation:_,animate:E,adjustColorIntensity:x,getThemeColor:v,updateAndDrawSnowflakes:X,updateAndDrawRaindrops:R,updateAndDrawLeaves:H,updateAndDrawMeteors:J,handleResize:B,handleThemeChange:Q,handleVisibilityChange:D,ensureAnimation:b};return Object.defineProperty(Y,"__isScriptSetup",{enumerable:!1,value:!0}),Y}});function ce(U,W,u,n,f,r){return se(),te("canvas",{ref:"canvas",class:"dynamic-background",style:ne({opacity:n.opacity})},null,4)}const fe=le(de,[["render",ce],["__scopeId","data-v-45b95267"]]);export{fe as default};
